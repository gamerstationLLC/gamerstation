@import "tailwindcss";
/* =========================================================
   GamerStation Global Theme + Reusable UI Primitives
   Safari/iOS-safe (prevents “pitch black” + weird blur rendering)
   ========================================================= */

:root {
  /* Layers */
  --bg-base: #050505;
  --bg-surface: #121212;
  --bg-raised: #1a1a1a;

  /* Borders */
  --border-subtle: rgba(255,255,255,0.08);
  --border-strong: rgba(255,255,255,0.12);

  /* Text */
  --text-primary: rgba(255,255,255,0.92);
  --text-muted: rgba(255,255,255,0.65);

  /* Accents */
  --accent: #4f8cff;
  --danger: #ff4d4f;

  /* Back-compat */
  --background: var(--bg-base);
  --foreground: var(--text-primary);
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);

  /* ✅ Helps Safari form controls + translucency render consistently */
  color-scheme: dark;

  --sticky-footer-h: 0px;
}

body {
  background: var(--bg-base);
  color: var(--text-primary);
}

/* === Card primitives (default) === */
.gs-card {
  background: var(--bg-surface);
  border: 1px solid var(--border-subtle);
  border-radius: 1rem;
}

.gs-panel {
  background: var(--bg-raised);
  border: 1px solid var(--border-subtle);
  border-radius: 0.75rem;
}

.gs-muted {
  color: var(--text-muted);
}

/* =========================================================
   iOS Safari fix: “glass” surfaces that otherwise go pitch black.
   Apply class `ios-glass` to ONLY the elements you want lifted
   (e.g., sticky tabs bar, sticky bottom bar).
   ========================================================= */
@supports (-webkit-touch-callout: none) {
  .ios-glass {
    /* lift off OLED black */
    background-color: rgba(255,255,255,0.06) !important;
    border-color: rgba(255,255,255,0.10) !important;

    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
  }
}

@media (hover: none) {
  .group:active > div {
    opacity: 1 !important;
  }
}

@layer utilities {
  .gs-title-sweep {
    position: relative;
    --gs-dur: 6.8s;     /* ✅ slower overall cycle */
    --gs-line-h: 3px;
    --gs-gap: 10px;
  }

  /* line expands from CENTER outward */
  .gs-title-sweep::after {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    bottom: calc(var(--gs-gap) * -1);
    height: var(--gs-line-h);
    border-radius: 9999px;

    background: rgba(255, 255, 255, 0.92);
    box-shadow:
      0 0 12px rgba(255,255,255,0.20),
      0 0 28px rgba(255,255,255,0.12);

    /* start hidden */
    opacity: 0;
    transform-origin: center center; /* ✅ center-out */
    transform: scaleX(0);
    will-change: transform, opacity;

    /* ✅ smoother feel: avoid the “ease-in-out pop” at start */
    animation: gs-underline-center var(--gs-dur) linear infinite;
  }

  /* ✅ FIX: remove stutter by removing the scaleX jump.
     Keep it hidden, then fade in while still at 0 width,
     then expand smoothly 0 -> 1. */
  @keyframes gs-underline-center {
    /* invisible pause */
    0% {
      opacity: 0;
      transform: scaleX(0);
    }

    /* stay hidden */
    25% {
      opacity: 0;
      transform: scaleX(0);
    }

    /* fade in while still at 0 (prevents a "pop") */
    30% {
      opacity: 0;
      transform: scaleX(0);
    }
    34% {
      opacity: 1;
      transform: scaleX(0);
    }

    /* expand outward (single fluent motion) */
    82% {
      opacity: 1;
      transform: scaleX(1);
    }

    /* hold briefly */
    90% {
      opacity: 1;
      transform: scaleX(1);
    }

    /* fade out + reset */
    100% {
      opacity: 0;
      transform: scaleX(0);
    }
  }

  /* Logo glows ONCE near completion of underline */
  .gs-logo-hit {
    --gs-dur: 6.8s; /* ✅ match duration */
    animation: gs-logo-pulse var(--gs-dur) ease-in-out infinite;
    will-change: box-shadow, filter, transform;
  }

  @keyframes gs-logo-pulse {
    /* calm */
    0%, 74% {
      filter: saturate(1);
      transform: translateZ(0) scale(1);
      box-shadow: 0 0 40px rgba(0,255,255,0.15);
    }

    /* ramp */
    84% {
      box-shadow: 0 0 50px rgba(0,255,255,0.22);
    }

    /* peak glow (single pulse) */
    90% {
      filter: saturate(1.18);
      transform: translateZ(0) scale(1.025);
      box-shadow:
        0 0 85px rgba(0,255,255,0.45),
        0 0 22px rgba(255,255,255,0.10);
    }

    /* settle */
    95% {
      filter: saturate(1.06);
      transform: translateZ(0) scale(1);
      box-shadow: 0 0 46px rgba(0,255,255,0.20);
    }

    100% {
      filter: saturate(1);
      transform: translateZ(0) scale(1);
      box-shadow: 0 0 40px rgba(0,255,255,0.15);
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .gs-title-sweep::after,
    .gs-logo-hit {
      animation: none !important;
    }
  }
}


.gs-sticky-footer {
  height: var(--sticky-footer-h);
}

:root {
  /* Approx height reserved for the global footer ad */
  --gs-footer-ad-h: 140px;

  /* How much bottom space the page reserves.
     Default = footer ad height.
     Sticky pages can override this to their sticky footer height. */
  --gs-bottom-reserve: var(--gs-footer-ad-h);
}

/* Slightly smaller on mobile */
@media (max-width: 640px) {
  :root {
    --gs-footer-ad-h: 120px;
  }
}
/* app/globals.css */
:root {
  --gs-sticky-footer-h: 0px;
}
